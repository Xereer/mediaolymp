<section class="course wrapper-inner">
  <h2 class="title">
    <span>КУРС ПО ДВИ</span>
    <span class="splash text_accent">
      <span>#</span>
      <span>Подготовим вас к ДВИ в любой вуз!</span>
    </span>
  </h2>
  <div (click)="scrollToRates(ratesBlock)"
       class="course__start">
    <span>Старт 1 июня!</span>
    <span class="link_button">
      <span>ЗАПИСАТЬСЯ НА КУРС</span>
    </span>
  </div>
</section>

<section class="blocks wrapper-inner">
  <span class="subtitle">Основные блоки</span>
  <div class="blocks__wrapper">
    @for (mainBlock of mainBlocks; track $index) {
      <div pAnimateOnScroll
           enterClass="fadeinbottom"
           class="blocks__card">
        <span class="blocks__card-title text_bold">{{ mainBlock[LCard.TITLE] }}</span>
        <div class="blocks__card-text">
          {{ mainBlock[LCard.TEXT] }}
        </div>
      </div>
    }
  </div>
</section>

<section class="program wrapper-inner">
  <span class="subtitle">Подробная программа</span>
  <div class="program__wrapper">
    @for (programItem of programItems; track $index) {
      <div pAnimateOnScroll
           enterClass="fadeinbottom"
           class="program__card">
        <span class="text_accent text_bold">{{ $index + 1 }}</span>
        <div class="program__card-wrapper">
          <span class="program__card-title text_bold">{{ programItem[LCard.TITLE] }}</span>
          <div class="program__card-text">
            {{ programItem[LCard.TEXT] }}
          </div>
        </div>
      </div>
    }
    <a pAnimateOnScroll
       href="https://classroom.google.com/c/NjYxNTE2OTMxNzk1?cjc=vfg66jo"
       target="_blank"
       enterClass="fadeinbottom"
       class="link_button">
      <span>Получить пробные уроки</span>
    </a>
  </div>
</section>

<section *ngLet="isMobile$ | async as isMobile"
         class="lessons wrapper-inner">
  <span class="subtitle">Формат занятий</span>
  <p-carousel [value]="lessonsFormats"
              [numVisible]="isMobile ? 1 : 2"
              [numScroll]="1"
              [circular]="true"
              [autoplayInterval]="3000">
    <ng-template pTemplate="item"
                 let-lessonsFormat>
      <div class="lessons__card">
        <span>{{ lessonsFormat[LImage.ALT] }}</span>
        <img [src]="lessonsFormat[LImage.SRC]"
             [alt]="lessonsFormat[LImage.ALT]"
             loading="lazy">
      </div>
    </ng-template>
  </p-carousel>
</section>

<section class="speakers wrapper-inner">
  <span class="subtitle">Приглашенные спикеры</span>
  <div class="speakers__wrapper">
    <div class="speakers__item">
      <img src="../../../../../../../assets/images/courses/admission-tests/speaker-stelmak.jpeg"
           alt="Наталия Стельмак"
           loading="lazy"
           class="speakers__img">
      <div class="speakers__title">
        <span class="text_bold">Наталия Стельмак,</span><br>
        <span>преподаватель ВШЭ и РАНХиГС</span>
      </div>
    </div>

    <div class="speakers__item speakers__item_right">
      <div class="speakers__title speakers__title_right">
        <span class="text_bold text_bold">Григорий Влидимирович Прутцков,</span><br>
        <span>профессор Института медиа ВШЭ, 2001-2023 гг. - доцент факультета журналистики МГУ&nbsp;им.&nbsp;М.В.&nbsp;Ломоносова, преподаватель</span>
      </div>
      <img src="../../../../../../../assets/images/courses/admission-tests/speaker-prutskov.jpg"
           alt="Григорий Влидимирович Прутцков"
           loading="lazy"
           class="speakers__img">
    </div>

    <div class="speakers__item">
      <img src="../../../../../../../assets/images/courses/admission-tests/speaker-bukharova.jpg"
           alt="Елизавета Бухарова"
           loading="lazy"
           class="speakers__img">
      <div class="speakers__title">
        <span class="text_bold text_bold">Елизавета Бухарова,</span><br>
        <span>корреспондент телеканала "Москва&nbsp;24"</span>
      </div>
    </div>
  </div>
</section>

<section class="rates wrapper-inner">
  <span #ratesBlock
        class="subtitle">Тарифы</span>
  <div class="rates__wrapper">
    @for (rate of rates; track $index) {
      <div pAnimateOnScroll
           enterClass="fadeinbottom"
           class="rates__card">
        <span class="rates__card-header text_bold">{{ rate[LRate.TITLE] }}</span>
        <div class="rates__card-content">
          @for (point of rate[LRate.POINTS]; track $index) {
            <span>{{ point }}</span>
          }
        </div>
        <div class="rates__card-wrapper">
          @if (rate[LRate.PRICE_EXT]) {
            <div class="price">
              <span>4 недели</span>
              <span class="price_dotted"></span>
              <span>{{ rate[LRate.PRICE] }}</span>
            </div>
            <div class="price">
              <span>1,5 месяца</span>
              <span class="price_dotted"></span>
              <span>{{ rate[LRate.PRICE_EXT] }}</span>
            </div>
          } @else {
            <div class="price">
              <span>Общая стоимость</span>
              <span class="price_dotted"></span>
              <span>{{ rate[LRate.PRICE] }}</span>
            </div>
          }
        </div>
        <!-- [href]="rate[LRate.URL]" -->
        <a target="_blank"
           class="link_button">
          <span (click)="showDialog(rate)">выбрать</span>
        </a>
      </div>
    }
  </div>
</section>

<section class="promo wrapper-inner">
  <div class="promo__content">
    <div pAnimateOnScroll
         enterClass="fadeinleftlight"
         class="promo__content-text">
      <span>Наши выпускники </span>
      <span class="text_accent">прошли этот курс</span>
      <span> и </span>
      <span class="text_accent">получили максимум</span>
      <span> баллов на ДВИ!</span>
    </div>
    <div pAnimateOnScroll
         enterClass="fadeinright"
         class="promo__content-text">
      <span>Теперь они - </span>
      <span class="text_accent">студенты лучших вузов</span>
      <span> страны!</span>
    </div>
    <img src="assets/images/home/media-0.jpg"
         alt="Наши выпускники"
         loading="lazy">
  </div>
  <div class="promo__actions">
    <a [routerLink]="'/' + ERoute.RESULTS"
       class="link_button">
      <span>смотреть результаты</span>
    </a>
    <a href="https://vk.com/topic-214661467_49139854"
       target="_blank"
       class="link_button">
      <span>читать отзывы</span>
    </a>
  </div>
</section>

<section class="faq wrapper-inner">
  <span class="subtitle">Ответы на часто задаваемые вопросы</span>
  <p-accordion [multiple]="true">
    @for (faqItem of faqItems; track $index) {
      <p-accordionTab [header]="faqItem[LFaq.HEADER]">
        <span>{{ faqItem[LFaq.TEXT] }}</span>
      </p-accordionTab>
    }
  </p-accordion>
  <span (click)="scrollToRates(ratesBlock)"
        class="link_button">
    <span>ЗАПИСАТЬСЯ НА КУРС</span>
  </span>
</section>

<p-dialog [modal]="true"
          [closable]="closable"
          [dismissableMask]="dismissableMask"
          [style]="{'width': width, 'height': height}"
          [contentStyle]="contentStyle"
          [(visible)]="display"
          (onHide)="onDialogClose()"
          header="Перед оплатой заполните, пожалуйста, анкету.">
  <p>На указанную электронную почту или в личные сообщения ВК мы направим вам доступ к курсу.</p>

  <form id="myForm">
  <div class="input-fields">
    <div class="input-text-fields">
      <label class="label">
        ФИО
      </label>
      <input class="input"
             id="fullName"
             type="text"
             pInputText
             />
    </div>
    <div class="input-text-fields">
      <label class="label">
        Номер телефона
      </label>
      <input class="input"
             id="phoneNumber"
             type="text" pInputText
             />
    </div>
    <div class="input-text-fields">
      <label class="label">
        Электронная почта
      </label>
      <input class="input"
             id="email"
             type="text"
             pInputText
             />
    </div>
    <div class="input-text-fields">
      <label class="label">
        Ссылка на страницу ВК
      </label>
      <input class="input"
             id="vk"
             type="text"
             pInputText
             />
    </div>
    <br>
    <div style="text-align: left; white-space: nowrap; width: 70%">
      Сообщение с доступом придет в течение 30 минут с момента оплаты.

      По всем вопросам <br> вы можете обращаться в сообщения нашей группы ВК
      <label (click)="openVK()"
             style="text-decoration: underline;">
        https://vk.com/mediaolimpjur
      </label><br>

      Оплачивая курс, вы соглашаетесь с публичной офертой МедиаОлимпа<br>
      <label (click)="openAcceptOffer()"
             style="text-decoration: underline;">
        (https://mediaolimpjur.ru/assets/files/MediaOlimp_oferta.pdf)
      </label>
      <br>
      и обработкой персональных данных
      <br>
      <label (click)="openPersonalData()"
             style="text-decoration: underline;">
        (вставить ссылку)
      </label>
    </div>
    <br>
    <div class="checkboxes">
      <input type="checkbox" id="acceptOffer">
      <label (click)="openAcceptOffer()">
        Согласие с офертой
      </label>
    </div>

    <div class="checkboxes">
      <input type="checkbox" id="personalData">
      <label (click)="openPersonalData()">
        Согласие на обработку персональных данных
      </label>
    </div>
    <br>
    <div class="buttons">
      <p-button (click)="hideDialog()"
                class="custom-button">
        Отменить
      </p-button>
      <p-button (click)="sendInputValues()"
                class="custom-button">
        Отправить заявку
      </p-button>
    </div>
  </div>
  </form>
</p-dialog>



